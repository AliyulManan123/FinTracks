<%- include('../layouts/main', { body: `
  <h1 class="text-2xl font-semibold mb-4">Planning</h1>

  <div class="grid md:grid-cols-2 gap-4">
    <div class="bg-white p-4 rounded shadow">
      <h2 class="text-lg font-semibold mb-2">Budgets</h2>
      ${(budgets || []).map(b => `
        <div class="border-b py-2 text-sm flex justify-between">
          <div>${b.category.name} (${new Date(b.periodStart).toISOString().slice(0,10)} - ${new Date(b.periodEnd).toISOString().slice(0,10)})</div>
          <div>IDR ${numberFormat(b.amount)}</div>
        </div>
      `).join('')}
    </div>
    <div class="bg-white p-4 rounded shadow">
      <h2 class="text-lg font-semibold mb-2">Goals</h2>
      ${(goals || []).map(g => `
        <div class="border-b py-2 text-sm">
          <div class="flex justify-between">
            <div class="font-medium">${g.name}</div>
            <div>IDR ${numberFormat(g.current)} / ${numberFormat(g.target)}</div>
          </div>
          <div class="w-full bg-gray-200 rounded h-2 mt-2">
            <div class="bg-green-500 h-2 rounded" style="width: ${Math.min(100, (Number(g.current)/Number(g.target))*100)}%;"></div>
          </div>
        </div>
      `).join('')}
    </div>
  </div>
` }) %>
